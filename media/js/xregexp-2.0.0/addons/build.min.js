!function(e){"use strict";function r(e){var r=/^(?:\(\?:\))?\^/,n=/\$(?:\(\?:\))?$/;return n.test(e.replace(/\\[\s\S]/g,""))?e.replace(r,"").replace(n,""):e}function n(r){return e.isRegExp(r)?r.xregexp&&!r.xregexp.isNative?r:e(r.source):e(r)}var t=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,u=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,t],"g");e.build=function(i,a,c){var p,f,s,o,x=/^\(\?([\w$]+)\)/.exec(i),g={},l=0,w=0,d=[0];x&&(c=c||"",x[1].replace(/./g,function(e){c+=c.indexOf(e)>-1?"":e}));for(o in a)a.hasOwnProperty(o)&&(s=n(a[o]),g[o]={pattern:r(s.source),names:s.xregexp.captureNames||[]});return i=n(i),f=i.xregexp.captureNames||[],i=i.source.replace(u,function(e,r,n,u,i){var a,c,s=r||n;if(s){if(!g.hasOwnProperty(s))throw new ReferenceError("undefined property "+e);return r?(a=f[w],d[++w]=++l,c="(?<"+(a||s)+">"):c="(?:",p=l,c+g[s].pattern.replace(t,function(e,r,n){if(r){if(a=g[s].names[l-p],++l,a)return"(?<"+a+">"}else if(n)return"\\"+(+n+p);return e})+")"}if(u){if(a=f[w],d[++w]=++l,a)return"(?<"+a+">"}else if(i)return"\\"+d[+i];return e}),e(i,c)}}(XRegExp);